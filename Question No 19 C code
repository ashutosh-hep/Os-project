#include<stdio.h>
#include<conio.h>
int main()
 {
   int x,n,p[10],PP[10],Bt[10],w[10],t[10],AvgWt,AvgTAT,i,At[10],TQ;
   printf("Enter the number of process : ");
   scanf("%d",&n);
   printf("Enter time quantum");
   scanf("%d",&TQ);
   printf("\n\t Enter burst time : time priorities : Arrival time  \n");
 
   for(i=0;i<n;i++)
    {
      //cout<<"\nProcess["<<i+1<<"]:";
      printf("\n Process %d ",i+1);
      //cin>>Bt[i]>>PP[i]>>At[i];
      scanf("%d %d %d",&Bt[i],&PP[i],&At[i]);
      p[i]=i+1;
    }
 
//sorting on the basis of priority
int j;
  for(i=0;i<n-1;i++)
   {
     for(j=i+1;j<n;j++)
     {
       if(PP[i]<PP[j])
       {
     x=PP[i];
     PP[i]=PP[j];
     PP[j]=x;
     x=Bt[i];
     Bt[i]=Bt[j];
     Bt[j]=x;
     x=p[i];
     p[i]=p[j];
     p[j]=x;
      }
      //gc[i]=p[j];
   }
}
w[0]=0;
AvgWt=0;
t[0]=Bt[0];
AvgTAT=t[0];
for(i=1;i<n;i++)
 {
    if(TQ<n || TQ>n) {
     
   w[i]=t[i-1];
   AvgWt+=w[i];
   t[i]=w[i]+Bt[i];
   AvgTAT+=t[i];
     }
 }
 
 //Gantt chrAt
 printf("\n");
 printf("Gantt chart\n");
 for(i=0;i<n;i++)
 {
    printf("P %d ",p[i]);
 }
//Displaying the process
 
printf("\n\nProcess \t Burst Time \t Wait Time \t Turn Around Time   Priority \tArrival time \n");
for(i=0;i<n;i++){
printf("\n  %d",p[i]); printf("\t\t %d",Bt[i]); printf("\t\t %d",w[i]); printf("\t\t %d",t[i]); printf("\t\t %d",PP[i]); printf("\t\t %d",At[i]);
 
}
AvgWt/=n;
AvgTAT/=n;
printf("\n Average Wait Time : %d ",AvgWt);
printf("\n Average Turn Around Time : %d",AvgTAT);
getch();
}



